# ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ 

BoxLogã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ©Ÿèƒ½ã«ãŠã‘ã‚‹åŒ…æ‹¬çš„ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€‚

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## æ¦‚è¦

ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¯ã€BoxLogã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ©Ÿèƒ½ã«ãŠã‘ã‚‹çµ±ä¸€ã•ã‚ŒãŸUI/UXã‚’æä¾›ã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### ğŸ¯ ä¸»è¦ãªç›®çš„

1. **çµ±ä¸€æ€§**: ã™ã¹ã¦ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ¥ãƒ¼ã§ä¸€è²«ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
2. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ¢ãƒã‚¤ãƒ«ã§ã®æœ€é©åŒ–
3. **æ‹¡å¼µæ€§**: æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ã‚„æ©Ÿèƒ½ã®å®¹æ˜“ãªè¿½åŠ 
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: åŠ¹ç‡çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨çŠ¶æ…‹ç®¡ç†
5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAAæº–æ‹ 

### ğŸ—ï¸ ä¸»è¦æ©Ÿèƒ½

- **çµ±åˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†**: ãƒ˜ãƒƒãƒ€ãƒ¼ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åŒ…æ‹¬çš„ç®¡ç†
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®é©å¿œå‹UI
- **çŠ¶æ…‹æ°¸ç¶šåŒ–**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®è‡ªå‹•ä¿å­˜ãƒ»å¾©å…ƒ
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: ä»®æƒ³åŒ–ã€ãƒ¡ãƒ¢åŒ–ã€é…å»¶èª­ã¿è¾¼ã¿

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/features/calendar/components/layout/
â”œâ”€â”€ CalendarLayout.tsx          # ğŸ›ï¸ ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ Header/                     # ğŸ“Š ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤
â”‚   â”œâ”€â”€ index.tsx              # ãƒ¡ã‚¤ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ DateNavigator.tsx      # æ—¥ä»˜ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ DateRangeDisplay.tsx   # æ—¥ä»˜ç¯„å›²è¡¨ç¤º
â”‚   â”œâ”€â”€ HeaderActions.tsx      # ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤
â”‚   â””â”€â”€ ViewSwitcher.tsx       # ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
â”œâ”€â”€ Sidebar/                   # ğŸ—‚ï¸ ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤
â”‚   â”œâ”€â”€ index.ts              # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç®¡ç†
â”‚   â”œâ”€â”€ Sidebar.tsx           # ãƒ¡ã‚¤ãƒ³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ MiniCalendar.tsx      # ãƒŸãƒ‹ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ CalendarList.tsx      # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒªã‚¹ãƒˆ
â”‚   â”œâ”€â”€ TagFilter.tsx         # ã‚¿ã‚°ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ QuickActions.tsx      # ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ README.md             # ã‚µã‚¤ãƒ‰ãƒãƒ¼å°‚ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ MobileLayout/              # ğŸ“± ãƒ¢ãƒã‚¤ãƒ«å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ index.ts              # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç®¡ç†
â”‚   â”œâ”€â”€ MobileDrawer.tsx      # ãƒ¢ãƒã‚¤ãƒ«ãƒ‰ãƒ­ãƒ¯ãƒ¼
â”‚   â”œâ”€â”€ MobileHeader.tsx      # ãƒ¢ãƒã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â””â”€â”€ MobileNavigation.tsx  # ãƒ¢ãƒã‚¤ãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€ index.ts                   # å…¨ä½“ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç®¡ç†
```

### ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```mermaid
graph TB
    A[CalendarLayout] --> B[useCalendarLayout Hook]
    A --> C[CalendarHeader]
    A --> D[Sidebar]
    A --> E[Main Content]
    
    B --> F[State Management]
    F --> G[Local Storage]
    F --> H[URL Params]
    
    C --> I[Date Navigation]
    C --> J[View Switching]
    C --> K[Header Actions]
    
    D --> L[Mini Calendar]
    D --> M[Quick Actions]
    D --> N[Filters]
```

### ğŸ­ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤

```
CalendarLayout (æœ€ä¸Šä½)
â”œâ”€â”€ CalendarHeader
â”‚   â”œâ”€â”€ DateNavigator
â”‚   â”œâ”€â”€ DateRangeDisplay  
â”‚   â”œâ”€â”€ ViewSwitcher
â”‚   â””â”€â”€ HeaderActions
â”œâ”€â”€ Sidebar (æ¡ä»¶ä»˜ãè¡¨ç¤º)
â”‚   â”œâ”€â”€ MiniCalendar
â”‚   â”œâ”€â”€ QuickActions
â”‚   â”œâ”€â”€ CalendarList
â”‚   â””â”€â”€ TagFilter
â””â”€â”€ Main Content Area
    â””â”€â”€ {children} (å„ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
```

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

### 1. ğŸ›ï¸ CalendarLayout

**ãƒ•ã‚¡ã‚¤ãƒ«**: `CalendarLayout.tsx`  
**å½¹å‰²**: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æœ€ä¸Šä½ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†

#### ğŸ“ ä¸»è¦æ©Ÿèƒ½

- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå¯¾å¿œ
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼ç®¡ç†**: å±•é–‹ãƒ»æŠ˜ã‚ŠãŸãŸã¿ãƒ»æ°¸ç¶šåŒ–
- **ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ**: ãƒ‰ãƒ­ãƒ¯ãƒ¼å‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- **çŠ¶æ…‹çµ±åˆ**: å…¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçŠ¶æ…‹ã®ä¸€å…ƒç®¡ç†

#### ğŸ”§ Props

```typescript
interface CalendarLayoutProps {
  children: React.ReactNode
  className?: string
  
  // Header props
  viewType: CalendarViewType
  currentDate: Date
  onNavigate: (direction: 'prev' | 'next' | 'today') => void
  onViewChange: (view: CalendarViewType) => void
  
  // Header actions
  onSettings?: () => void
  onExport?: () => void
  onImport?: () => void
  showHeaderActions?: boolean
  
  // Sidebar props
  showSidebar?: boolean
  sidebarCollapsed?: boolean
  onSidebarCollapsedChange?: (collapsed: boolean) => void
  
  // Calendar integration
  selectedDate?: Date
  onDateSelect?: (date: Date) => void
  calendars?: Calendar[]
  tags?: TagItem[]
  
  // Event handlers
  onCreateEvent?: () => void
  onCreateTask?: () => void
  onCreateLog?: () => void
  
  // Display options
  showMiniCalendar?: boolean
  showCalendarList?: boolean
  showTagFilter?: boolean
  showQuickActions?: boolean
}
```

#### ğŸ’¡ ä½¿ç”¨ä¾‹

```tsx
<CalendarLayout
  viewType="week"
  currentDate={new Date()}
  onNavigate={handleNavigate}
  onViewChange={handleViewChange}
  showSidebar={true}
  sidebarCollapsed={false}
  onCreateEvent={handleCreateEvent}
>
  <WeekView {...weekViewProps} />
</CalendarLayout>
```

---

### 2. ğŸ“Š Header Components

#### CalendarHeader (`Header/index.tsx`)

**å½¹å‰²**: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®ä¸Šéƒ¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«

##### ä¸»è¦æ©Ÿèƒ½
- æ—¥ä»˜ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
- ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¯¾å¿œ

##### Props
```typescript
interface CalendarHeaderProps {
  viewType: CalendarViewType
  currentDate: Date
  onNavigate: (direction: 'prev' | 'next' | 'today') => void
  onViewChange: (view: CalendarViewType) => void
  leftSlot?: React.ReactNode // ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ç”¨
  showActions?: boolean
  onSettings?: () => void
  onExport?: () => void
  onImport?: () => void
}
```

#### DateNavigator (`Header/DateNavigator.tsx`)

**å½¹å‰²**: æ—¥ä»˜ã®å‰å¾Œç§»å‹•ãƒ»ä»Šæ—¥ã¸ã®ç§»å‹•

##### æ©Ÿèƒ½
- Previous/Next ãƒœã‚¿ãƒ³
- Today ãƒœã‚¿ãƒ³
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå¯¾å¿œ
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ©ãƒ™ãƒ«

#### DateRangeDisplay (`Header/DateRangeDisplay.tsx`)

**å½¹å‰²**: ç¾åœ¨é¸æŠä¸­ã®æ—¥ä»˜ç¯„å›²ã®è¡¨ç¤º

##### æ©Ÿèƒ½
- ãƒ“ãƒ¥ãƒ¼ã‚¿ã‚¤ãƒ—åˆ¥ã®è¡¨ç¤ºå½¢å¼
- é€±ç•ªå·è¡¨ç¤ºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- å›½éš›åŒ–å¯¾å¿œ

#### ViewSwitcher (`Header/ViewSwitcher.tsx`)

**å½¹å‰²**: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ¥ãƒ¼ã®åˆ‡ã‚Šæ›¿ãˆ

##### ã‚µãƒãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼
- `day`: æ—¥è¡¨ç¤º
- `3day`: 3æ—¥è¡¨ç¤º  
- `week`: é€±è¡¨ç¤º
- `week-no-weekend`: å¹³æ—¥ã®ã¿è¡¨ç¤º
- `2week`: 2é€±é–“è¡¨ç¤º
- `month`: æœˆè¡¨ç¤º
- `schedule`: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ç¤º

#### HeaderActions (`Header/HeaderActions.tsx`)

**å½¹å‰²**: è¨­å®šãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆãªã©ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

---

### 3. ğŸ—‚ï¸ Sidebar Components

#### Sidebar (`Sidebar/Sidebar.tsx`)

**å½¹å‰²**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å…¨ä½“ç®¡ç†

##### ğŸ“‹ ä¸»è¦æ©Ÿèƒ½
- **æŠ˜ã‚ŠãŸãŸã¿æ©Ÿèƒ½**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã®è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
- **ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†**: å±•é–‹ãƒ»æŠ˜ã‚ŠãŸãŸã¿çŠ¶æ…‹ã®ç®¡ç†
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ãƒ¢ãƒã‚¤ãƒ«ã§ã¯éè¡¨ç¤ºã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã¯æŠ˜ã‚ŠãŸãŸã¿å¯¾å¿œ

##### ğŸ›ï¸ è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰
1. **Full (é€šå¸¸è¡¨ç¤º)**: å¹…320pxã€å…¨æ©Ÿèƒ½è¡¨ç¤º
2. **Collapsed (æŠ˜ã‚ŠãŸãŸã¿)**: å¹…48pxã€ã‚¢ã‚¤ã‚³ãƒ³ã®ã¿
3. **Hidden (éè¡¨ç¤º)**: ãƒ¢ãƒã‚¤ãƒ«ã§ã¯å®Œå…¨éè¡¨ç¤º

#### MiniCalendar (`Sidebar/MiniCalendar.tsx`)

**å½¹å‰²**: æœˆè¡¨ç¤ºã®å°ã•ãªã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼

##### æ©Ÿèƒ½
- æ—¥ä»˜é¸æŠ
- ä»Šæ—¥ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- ã‚¤ãƒ™ãƒ³ãƒˆæœ‰ç„¡ã®è¡¨ç¤º
- é€±ã®é–‹å§‹æ—¥è¨­å®š

#### QuickActions (`Sidebar/QuickActions.tsx`)

**å½¹å‰²**: ã‚ˆãä½¿ç”¨ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç´ æ—©ã„ã‚¢ã‚¯ã‚»ã‚¹

##### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¾‹
- ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ
- ã‚¿ã‚¹ã‚¯ä½œæˆ
- ä»Šæ—¥ã«ç§»å‹•
- è¨­å®šç”»é¢
- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

#### CalendarList (`Sidebar/CalendarList.tsx`)

**å½¹å‰²**: è¤‡æ•°ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®ç®¡ç†

##### æ©Ÿèƒ½
- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º/éè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
- ã‚«ãƒ©ãƒ¼ãƒãƒ¼ã§ã®è­˜åˆ¥
- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç·¨é›†ãƒ»å‰Šé™¤
- æ–°è¦ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä½œæˆ

#### TagFilter (`Sidebar/TagFilter.tsx`)

**å½¹å‰²**: ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

##### æ©Ÿèƒ½
- ã‚¿ã‚°é¸æŠã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- é¸æŠã‚¿ã‚°ã®ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤º
- å…¨é¸æŠè§£é™¤
- æ–°è¦ã‚¿ã‚°ä½œæˆ

---

### 4. ğŸ“± Mobile Layout Components

#### MobileDrawer (`MobileLayout/MobileDrawer.tsx`)

**å½¹å‰²**: ãƒ¢ãƒã‚¤ãƒ«ç”¨ã®ãƒ‰ãƒ­ãƒ¯ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

##### æ©Ÿèƒ½
- ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã®é–‹é–‰
- ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤º
- ã‚¿ãƒƒãƒãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªæ“ä½œ

#### MobileHeader (`MobileLayout/MobileHeader.tsx`)

**å½¹å‰²**: ãƒ¢ãƒã‚¤ãƒ«å°‚ç”¨ãƒ˜ãƒƒãƒ€ãƒ¼

##### æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ
- ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚µã‚¤ã‚ºã®æœ€é©åŒ–
- é‡è¦ãªæ©Ÿèƒ½ã®ã¿è¡¨ç¤º
- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼çµ±åˆ

---

## ä½¿ç”¨æ–¹æ³•

### ğŸš€ åŸºæœ¬çš„ãªå®Ÿè£…

#### 1. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å°å…¥

```tsx
import { CalendarLayout } from '@/features/calendar/components/layout'
import { useCalendarLayout } from '@/features/calendar/hooks/ui'

export function MyCalendarPage() {
  const {
    viewType,
    currentDate,
    navigateRelative,
    changeView,
    sidebarOpen,
    toggleSidebar
  } = useCalendarLayout({
    initialViewType: 'week',
    initialDate: new Date(),
    persistSidebarState: true
  })

  return (
    <CalendarLayout
      viewType={viewType}
      currentDate={currentDate}
      onNavigate={navigateRelative}
      onViewChange={changeView}
      showSidebar={true}
      sidebarCollapsed={!sidebarOpen}
      onSidebarCollapsedChange={toggleSidebar}
    >
      {/* ãƒ“ãƒ¥ãƒ¼å›ºæœ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      <YourCalendarView />
    </CalendarLayout>
  )
}
```

#### 2. ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®è¿½åŠ 

```tsx
<CalendarLayout
  // ... åŸºæœ¬Props
  onCreateEvent={() => {
    // ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆãƒ­ã‚¸ãƒƒã‚¯
    openEventModal()
  }}
  onCreateTask={() => {
    // ã‚¿ã‚¹ã‚¯ä½œæˆãƒ­ã‚¸ãƒƒã‚¯  
    openTaskModal()
  }}
  onDateSelect={(date) => {
    // æ—¥ä»˜é¸æŠæ™‚ã®ãƒ­ã‚¸ãƒƒã‚¯
    navigateToDate(date)
  }}
/>
```

### ğŸ¨ ã‚¹ã‚¿ã‚¤ãƒ«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### CSSå¤‰æ•°ã«ã‚ˆã‚‹çµ±ä¸€çš„ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

```css
.calendar-layout {
  --calendar-header-height: 64px;
  --calendar-sidebar-width-full: 320px;
  --calendar-sidebar-width-collapsed: 48px;
  --calendar-breakpoint-mobile: 768px;
  --calendar-breakpoint-tablet: 1024px;
}
```

#### Tailwindã‚¯ãƒ©ã‚¹ã§ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

```tsx
<CalendarLayout
  className="custom-calendar-theme"
  // ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ã‚’é©ç”¨
/>
```

---

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ğŸ› ï¸ æ–°ã—ã„ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ 

#### 1. ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

```tsx
// CustomSidebarSection.tsx
export function CustomSidebarSection({ isExpanded, onToggle }) {
  return (
    <div className="space-y-2">
      <button onClick={() => onToggle('custom-section')}>
        <span>ã‚«ã‚¹ã‚¿ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³</span>
      </button>
      
      {isExpanded && (
        <div className="p-4">
          {/* ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        </div>
      )}
    </div>
  )
}
```

#### 2. Sidebarã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®çµ±åˆ

```tsx
// Sidebar.tsxã«è¿½åŠ 
import { CustomSidebarSection } from './CustomSidebarSection'

// Sidebarã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…
{showCustomSection && (
  <CustomSidebarSection
    isExpanded={isExpanded('custom-section')}
    onToggle={toggleSection}
  />
)}
```

### ğŸ¯ æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ã®è¿½åŠ 

#### 1. ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

```tsx
// MyCustomView.tsx
export function MyCustomView({ 
  dateRange, 
  events, 
  onEventClick 
}) {
  return (
    <div className="custom-view">
      {/* ãƒ“ãƒ¥ãƒ¼ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
    </div>
  )
}
```

#### 2. CalendarLayoutã§ã®ä½¿ç”¨

```tsx
<CalendarLayout viewType="custom" {...props}>
  <MyCustomView {...viewProps} />
</CalendarLayout>
```

### ğŸ”§ useCalendarLayoutãƒ•ãƒƒã‚¯ã®æ‹¡å¼µ

```tsx
// ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
export function useEnhancedCalendarLayout(options) {
  const baseHook = useCalendarLayout(options)
  
  // è¿½åŠ æ©Ÿèƒ½
  const [customState, setCustomState] = useState()
  
  return {
    ...baseHook,
    customState,
    setCustomState,
    // ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚½ãƒƒãƒ‰
    customAction: () => {
      // ã‚«ã‚¹ã‚¿ãƒ ãƒ­ã‚¸ãƒƒã‚¯
    }
  }
}
```

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ğŸš€ æœ€é©åŒ–æ‰‹æ³•

#### 1. ãƒ¡ãƒ¢åŒ–ã®æ´»ç”¨

```tsx
// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¡ãƒ¢åŒ–
export const CalendarHeader = memo(({ 
  viewType, 
  currentDate, 
  onNavigate 
}) => {
  // ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
})

// å€¤ã®ãƒ¡ãƒ¢åŒ–
const memoizedProps = useMemo(() => ({
  viewType,
  currentDate,
  events: filteredEvents
}), [viewType, currentDate, filteredEvents])
```

#### 2. ä»®æƒ³åŒ–ã®å®Ÿè£…

```tsx
// å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®ä»®æƒ³åŒ–
import { FixedSizeList as List } from 'react-window'

export function VirtualizedEventList({ events }) {
  return (
    <List
      height={400}
      itemCount={events.length}
      itemSize={60}
    >
      {EventItem}
    </List>
  )
}
```

#### 3. é…å»¶èª­ã¿è¾¼ã¿

```tsx
// å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
const HeavyComponent = lazy(() => import('./HeavyComponent'))

// æ¡ä»¶ä»˜ãèª­ã¿è¾¼ã¿
{showHeavyFeature && (
  <Suspense fallback={<Loading />}>
    <HeavyComponent />
  </Suspense>
)}
```

---

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### â™¿ WCAG 2.1 AAAæº–æ‹ 

#### 1. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

```tsx
// ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®å®Ÿè£…
useEffect(() => {
  const handleKeyPress = (e: KeyboardEvent) => {
    if (e.metaKey || e.ctrlKey) {
      switch (e.key) {
        case 'ArrowLeft':
          e.preventDefault()
          navigateRelative('prev')
          break
        case 'ArrowRight':
          e.preventDefault()
          navigateRelative('next')
          break
        case 't':
          e.preventDefault()
          navigateRelative('today')
          break
      }
    }
  }
  
  window.addEventListener('keydown', handleKeyPress)
  return () => window.removeEventListener('keydown', handleKeyPress)
}, [navigateRelative])
```

#### 2. ARIAå±æ€§ã®é©åˆ‡ãªä½¿ç”¨

```tsx
<nav 
  role="navigation" 
  aria-label="ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³"
>
  <button
    aria-label="å‰ã®æœŸé–“ã«ç§»å‹•"
    onClick={() => onNavigate('prev')}
  >
    <ChevronLeft aria-hidden="true" />
  </button>
</nav>
```

#### 3. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

```tsx
// ãƒ©ã‚¤ãƒ–ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®çŠ¶æ…‹é€šçŸ¥
<div
  role="status"
  aria-live="polite"
  className="sr-only"
>
  {announcements.map(announcement => (
    <div key={announcement.id}>
      {announcement.message}
    </div>
  ))}
</div>
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ› ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç—‡çŠ¶**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒå…¨ãè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› ã¨è§£æ±ºæ–¹æ³•**:
```tsx
// âŒ é–“é•ã„
<CalendarLayout showSidebar={false}>

// âœ… æ­£ã—ã„
<CalendarLayout showSidebar={true}>
```

#### 2. çŠ¶æ…‹ãŒæ°¸ç¶šåŒ–ã•ã‚Œãªã„

**ç—‡çŠ¶**: ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰æ™‚ã«è¨­å®šãŒå¤±ã‚ã‚Œã‚‹

**åŸå› ã¨è§£æ±ºæ–¹æ³•**:
```tsx
// useCalendarLayoutã§persistSidebarStateã‚’æœ‰åŠ¹ã«
const layoutState = useCalendarLayout({
  persistSidebarState: true, // â† ã“ã‚ŒãŒé‡è¦
  sidebarStorageKey: 'my-app-sidebar' // ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ¼
})
```

#### 3. ãƒ¢ãƒã‚¤ãƒ«ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒå‹•ä½œã—ãªã„

**ç—‡çŠ¶**: ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é–‹é–‰ãŒã§ããªã„

**åŸå› **: ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã®è¨­å®šã‚’ç¢ºèª
```tsx
// CSSã§ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèª
@media (max-width: 768px) {
  .calendar-sidebar {
    /* ãƒ¢ãƒã‚¤ãƒ«ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
  }
}
```

#### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ

**ç—‡çŠ¶**: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚„ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆãŒé‡ã„

**è§£æ±ºæ–¹æ³•**:
```tsx
// 1. ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ãƒ¡ãƒ¢åŒ–
const handleViewChange = useCallback((view) => {
  changeView(view)
}, [changeView])

// 2. ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é˜²æ­¢
const MemoizedComponent = memo(Component)

// 3. ä»®æƒ³åŒ–ã®ä½¿ç”¨ï¼ˆå¤§é‡ãƒ‡ãƒ¼ã‚¿ã®å ´åˆï¼‰
```

#### 5. TypeScriptã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: å‹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹

**è§£æ±ºæ–¹æ³•**:
```tsx
// å‹å®šç¾©ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import type { 
  CalendarViewType, 
  CalendarLayoutProps 
} from '@/features/calendar/types'

// é©åˆ‡ãªå‹æ³¨é‡ˆ
const viewType: CalendarViewType = 'week'
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ğŸ† æ¨å¥¨äº‹é …

#### 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

- **å˜ä¸€è²¬ä»»åŸå‰‡**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯1ã¤ã®è²¬ä»»ã®ã¿
- **Props ã®æ˜ç¢ºåŒ–**: å¿…è¦æœ€å°é™ã®Propsã®ã¿å—ã‘å–ã‚‹
- **å†åˆ©ç”¨æ€§**: æ±ç”¨çš„ãªè¨­è¨ˆã‚’å¿ƒãŒã‘ã‚‹

#### 2. çŠ¶æ…‹ç®¡ç†

- **ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›ºæœ‰ã®çŠ¶æ…‹
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹**: ã‚¢ãƒ—ãƒªå…¨ä½“ã§å…±æœ‰ã™ã‚‹çŠ¶æ…‹
- **æ°¸ç¶šåŒ–**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®é©åˆ‡ãªä¿å­˜

#### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **ãƒ¡ãƒ¢åŒ–ã®é©åˆ‡ãªä½¿ç”¨**: è¨ˆç®—ã‚³ã‚¹ãƒˆã®é«˜ã„å‡¦ç†
- **ä»®æƒ³åŒ–**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤º
- **ã‚³ãƒ¼ãƒ‰åˆ†å‰²**: å¿…è¦ãªæ™‚ã®ã¿èª­ã¿è¾¼ã¿

#### 4. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å¯¾å¿œ**: ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§æ“ä½œå¯èƒ½
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼**: é©åˆ‡ãªARIAå±æ€§
- **ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ**: WCAGåŸºæº–ã®éµå®ˆ

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°ã‚¬ã‚¤ãƒ‰](./sidebar-components.md)
- [ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¨ä½“ã‚¬ã‚¤ãƒ‰](./components.md)
- [ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ•ãƒƒã‚¯ä½¿ç”¨æ–¹æ³•](./hooks-guide.md)
- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰](./performance-guide.md)

---

**æœ€çµ‚æ›´æ–°**: 2025-01-18  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.0.0  
**ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼**: BoxLog Development Team