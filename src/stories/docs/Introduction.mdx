import { Meta } from '@storybook/blocks';

<Meta title="Docs/はじめに" />

# Boxlog Storybook

BoxlogのUIコンポーネントとデザイントークンのカタログです。

## 🚨 大前提

> **Storybookに記載されているパターンのみ使用する**

- ✅ Storybookにある → 使ってOK
- ❌ Storybookにない → 使わない（対応していても）
- 🆕 新パターン → 先にStoryを追加してから使う

```tsx
// ✅ OK
<Button variant="ghost" size="icon">
  <Settings className="size-4" />
</Button>

// ❌ NG: size="xl" はStoryにない
<Button variant="link" size="xl">リンク</Button>
```

## 📁 構成

| カテゴリ | 内容 |
|---------|------|
| **Components** | UIコンポーネント（Button, Badge, Input 等） |
| **Tokens** | デザイントークン（Colors, Typography, Spacing 等） |
| **Patterns** | 実装パターン（Forms, Cards, Tables 等） |
| **Docs** | このページ、ガイドライン |

## 🎨 カラートークン

Tailwindクラス名で統一。そのままコピペ可能。

```tsx
// ✅ OK
<div className="bg-card text-foreground border-border" />

// ❌ NG
<div style={{ color: 'var(--foreground)' }} />
```

| プレフィックス | 例 |
|---------------|-----|
| `bg-*` | `bg-background`, `bg-card`, `bg-muted` |
| `text-*` | `text-foreground`, `text-muted-foreground` |
| `border-*` | `border-border` |
| `ring-*` | `ring-ring` |

## 🖥️ Canvas と Docs の役割分離

| タブ | 役割 | 内容 |
|------|------|------|
| **Canvas** | コンポーネント描画 | render のみ。テキスト禁止 |
| **Docs** | ドキュメント | テキスト + テーブル + Controls |

**Canvas** — 純粋なコンポーネント描画だけを置く。`<h1>`, `<h2>`, `<p>` 等の説明文は禁止。
AllPatterns も同様に、コンポーネントを `flex-col gap-6` で並べるだけ。

**Docs** — テーブルが必要なら MDX（`.docs.mdx`）で作成。不要なら `tags: ['autodocs']` + JSDoc で十分。

公式テンプレート: `Components/AlertDialog`

## 🛠️ 開発者向け

### Storyの追加手順

1. `*.stories.tsx` を作成（Canvas用）
2. テーブルが必要なら `*.docs.mdx` を作成（Docs用）
3. `AllPatterns` Story を追加（全パターン一覧）
4. PRでレビュー → マージ後に使用可能

```
src/components/ui/my-component.tsx            # コンポーネント
src/components/ui/my-component.stories.tsx     # Story（Canvas）
src/components/ui/my-component.docs.mdx        # Docs（テーブルが必要な場合のみ）
```

### 命名規則

- `Components/ButtonGroup` → UIコンポーネント
- `Tokens/Colors` → デザイントークン
- `Docs/はじめに` → ドキュメント

### 同期ルール

コンポーネントを変更したら、Storyも同時に更新する。

- props追加 → argTypes + 使用例を追加
- props削除 → argTypes + 該当Storyを削除
- variant追加 → AllPatternsに追加

## ✅ チェックリスト

Story作成時に確認：

- [ ] AlertDialog テンプレートの構成に従っている
- [ ] Canvas にテキストを入れていない
- [ ] JSDoc は1行で簡潔に記述
- [ ] `AllPatterns` Storyを作成
- [ ] アイコンボタンに `aria-label` を設定
- [ ] セマンティックトークンを使用（`bg-background` 等）
- [ ] 直接カラーを使っていない（`text-blue-500` 等）

## ⛔ 避けるべきパターン

**Canvas にテキスト** — 見出し・説明文は Docs へ。Canvas はコンポーネントのみ。

**Story爆発** — 全組み合わせを個別Storyにしない。`AllPatterns` + Controls で対応。

**データ依存** — tRPC/Zustand依存コンポーネントは無理にStorybookに入れない。

詳細: `.claude/skills/storybook/SKILL.md`

## 📚 次に見るべきドキュメント

| ドキュメント | 内容 |
|-------------|------|
| [Colors](?path=/story/tokens-colors--all-colors) | カラートークン一覧、Surface体系、セマンティックカラー |
| [Typography](?path=/docs/tokens-typography--docs) | フォントサイズ、行間、ウェイト |
| [Spacing](?path=/docs/tokens-spacing--docs) | 8pxグリッド、余白ルール |
| [StyleGuide](?path=/docs/docs-styleguide-overview--docs) | GAFA-First原則、デザインルール |
| [Accessibility](?path=/docs/docs-accessibility-overview--docs) | a11yチェックリスト、WCAG準拠 |
