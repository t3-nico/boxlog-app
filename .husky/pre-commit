# BoxLog Pre-commit Hook
# コミット前に品質チェックを実行

echo "🔍 Running pre-commit checks..."

# ファイルサイズチェック（Phase 1b: BigTech標準）
node scripts/check-file-sizes.js

# バンドルサイズ監視（Phase 1c: BigTech標準）
node scripts/bundle-size-guard.js

# ライセンス検証（Phase 2a: BigTech標準）
node scripts/license-checker.js

# API変更検出（Phase 2b: BigTech標準）
node scripts/api-change-detector.js

# パフォーマンス回帰テスト（Phase 2c: BigTech標準）
node scripts/performance-regression-test.js

# 命名規則辞書チェック（Phase 3: BoxLog 統一命名規則）
echo "🏷️ Checking naming conventions..."
npm run naming:migrate

# Lint-staged実行（変更されたファイルのみ）
npx lint-staged
