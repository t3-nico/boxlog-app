{
  "apiVersion": "1.0.0",
  "endpoint": "/api/auth",
  "methods": {
    "GET": {
      "parameters": {
        "required": ["action"],
        "values": {
          "action": ["session", "user"]
        }
      },
      "response": {
        "200": {
          "session": {
            "type": "object",
            "properties": {
              "session": {
                "type": "object",
                "nullable": true,
                "properties": {
                  "access_token": {"type": "string"},
                  "user": {"type": "object"},
                  "expires_at": {"type": "number"}
                }
              }
            }
          },
          "user": {
            "type": "object",
            "properties": {
              "user": {
                "type": "object",
                "nullable": true,
                "properties": {
                  "id": {"type": "string", "format": "uuid"},
                  "email": {"type": "string", "format": "email"},
                  "created_at": {"type": "string", "format": "datetime"}
                }
              }
            }
          }
        },
        "400": {"error": "string"},
        "500": {"error": "string"}
      }
    },
    "POST": {
      "requestBody": {
        "required": ["action"],
        "properties": {
          "action": {
            "type": "string",
            "enum": ["signin", "signup", "signout", "reset-password"]
          },
          "email": {
            "type": "string",
            "format": "email",
            "required_for": ["signin", "signup", "reset-password"]
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "required_for": ["signin", "signup"]
          }
        }
      },
      "response": {
        "200": {
          "signin": {
            "type": "object",
            "properties": {
              "user": {"type": "object"},
              "session": {"type": "object"}
            }
          },
          "signup": {
            "type": "object",
            "properties": {
              "user": {"type": "object"},
              "session": {"type": "object"}
            }
          },
          "signout": {
            "type": "object",
            "properties": {
              "success": {"type": "boolean", "value": true}
            }
          },
          "reset-password": {
            "type": "object",
            "properties": {
              "success": {"type": "boolean", "value": true}
            }
          }
        },
        "400": {"error": "string"},
        "500": {"error": "string"}
      }
    }
  }
}