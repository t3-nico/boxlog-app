{
  "extends": ["next/core-web-vitals"],
  "plugins": ["boxlog-theme", "import", "unused-imports"],
  "rules": {
    "@typescript-eslint/no-unused-vars": "off",
    "react/no-unescaped-entities": "off",
    "@next/next/no-page-custom-font": "off",
    "react-hooks/exhaustive-deps": ["error", {
      "additionalHooks": "(useRecoilCallback|useRecoilTransaction)"
    }],
    "boxlog-theme/enforce-theme-usage": ["error", {
      "excludeFiles": [
        "tailwind.config.ts",
        "globals.css",
        "storybook",
        ".test.",
        ".spec.",
        "__tests__",
        "src/config/theme",
        "src/components/shadcn-ui"
      ],
      "allowedPatterns": [
        "^(absolute|relative|fixed|sticky)$",
        "^(flex|grid|block|inline|hidden)$", 
        "^(w-|h-|p-|m-|gap-|space-)",
        "^(rounded|border)$",
        "^(text-(xs|sm|base|lg|xl|2xl|3xl))$",
        "^(font-(normal|medium|semibold|bold))$",
        "^(overflow-|z-|opacity-|cursor-)",
        "^(transition|duration|ease)",
        "^(transform|rotate|scale)"
      ],
      "newFileErrorLevel": "error",
      "existingFileErrorLevel": "warn"
    }],

    "react/jsx-no-bind": ["warn", {
      "allowArrowFunctions": false,
      "allowFunctions": false,
      "allowBind": false,
      "ignoreDOMComponents": true,
      "ignoreRefs": true
    }],

    "max-lines": ["warn", {
      "max": 300,
      "skipBlankLines": true,
      "skipComments": true
    }],

    "complexity": ["error", { "max": 10 }],
    "max-depth": ["error", { "max": 3 }],
    "max-params": ["warn", { "max": 4 }],
    "max-nested-callbacks": ["error", { "max": 3 }],

    "react/no-array-index-key": "warn",
    "react/no-unstable-nested-components": ["error", { "allowAsProps": true }],
    "react/jsx-no-useless-fragment": ["error", { "allowExpressions": true }],
    "react/function-component-definition": ["warn", {
      "namedComponents": "arrow-function",
      "unnamedComponents": "arrow-function"
    }],

    "prefer-const": "error",
    "no-var": "error",
    "object-shorthand": ["error", "always"],
    "prefer-template": "error",
    "prefer-destructuring": ["warn", {
      "array": true,
      "object": true
    }, {
      "enforceForRenamedProperties": false
    }],

    "import/order": ["error", {
      "groups": [
        "builtin",
        "external", 
        "internal",
        "parent",
        "sibling",
        "index",
        "object",
        "type"
      ],
      "pathGroups": [
        {
          "pattern": "react",
          "group": "external",
          "position": "before"
        },
        {
          "pattern": "next/**",
          "group": "external",
          "position": "before"
        },
        {
          "pattern": "@/**",
          "group": "internal",
          "position": "before"
        }
      ],
      "pathGroupsExcludedImportTypes": ["react"],
      "newlines-between": "always",
      "alphabetize": {
        "order": "asc",
        "caseInsensitive": true
      }
    }],

    "import/no-duplicates": "error",
    "import/no-cycle": "error",
    "import/no-self-import": "error",

    "no-restricted-imports": ["error", {
      "patterns": [
        {
          "group": ["@tiptap/*"],
          "message": "Tiptapライブラリは重いです。必要最小限のインポートを心がけてください"
        },
        {
          "group": ["framer-motion"],
          "message": "framer-motionは重いです。軽量な代替手段を検討してください"
        },
        {
          "group": ["date-fns"],
          "importNames": ["*"],
          "message": "date-fnsは必要な関数のみインポートしてください（例：import { format } from 'date-fns'）"
        }
      ]
    }],

    "unused-imports/no-unused-imports": "error",
    "unused-imports/no-unused-vars": ["warn", {
      "vars": "all",
      "varsIgnorePattern": "^_",
      "args": "after-used",
      "argsIgnorePattern": "^_"
    }]
  },
  "overrides": [
    {
      "files": ["src/components/ui/kibo-ui/**/*.tsx"],
      "rules": {
        "@typescript-eslint/ban-ts-comment": "off",
        "@typescript-eslint/no-explicit-any": "off"
      }
    }
  ]
}
