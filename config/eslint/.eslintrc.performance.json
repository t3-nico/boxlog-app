{
  "extends": ["./.eslintrc.json"],
  "rules": {
    "react/jsx-no-bind": ["error", {
      "allowArrowFunctions": false,
      "allowFunctions": false,
      "allowBind": false,
      "ignoreDOMComponents": false,
      "ignoreRefs": false
    }],

    // useCallback/useMemo の強制
    "react-hooks/exhaustive-deps": ["error", {
      "additionalHooks": "(useRecoilCallback|useRecoilTransaction|useQuery|useMutation)"
    }],

    // 厳格なコンポーネントサイズ制限
    "max-lines": ["error", {
      "max": 250,
      "skipBlankLines": true,
      "skipComments": true
    }],

    "max-lines-per-function": ["error", {
      "max": 50,
      "skipBlankLines": true,
      "skipComments": true,
      "IIFEs": true
    }],

    // 複雑度の厳格な制限
    "complexity": ["error", { "max": 8 }],
    "max-depth": ["error", { "max": 2 }],
    "max-params": ["error", { "max": 3 }],
    "max-nested-callbacks": ["error", { "max": 2 }],

    // React パフォーマンス最適化
    "react/no-array-index-key": "error",
    "react/no-unstable-nested-components": ["error", { "allowAsProps": false }],
    "react/jsx-no-useless-fragment": ["error", { "allowExpressions": false }],
    "react/no-object-type-as-default-prop": "error",
    "react/jsx-no-constructed-context-values": "error",

    // メモ化の促進
    "react/require-default-props": "off",
    "react/default-props-match-prop-types": "off",

    // ES6+ 最適化の強制
    "prefer-const": "error",
    "no-var": "error",
    "object-shorthand": ["error", "always"],
    "prefer-template": "error",
    "prefer-spread": "error",
    "prefer-rest-params": "error",
    "prefer-arrow-callback": ["error", { "allowNamedFunctions": false }],

    // 不要な計算の防止
    "no-loop-func": "error",
    "no-await-in-loop": "error",
    "no-constant-condition": "error",

    // メモリリーク防止
    "no-global-assign": "error",
    "no-implicit-globals": "error",

    // Bundle サイズ最適化
    "import/no-duplicates": "error",
    "import/no-unused-modules": ["error", { "unusedExports": true }],
    "no-duplicate-imports": "error"
  },

  "overrides": [
    {
      "files": ["src/pages/**/*.tsx", "src/app/**/*.tsx"],
      "rules": {
        // ページコンポーネントは少し緩い制限
        "max-lines": ["warn", { "max": 400 }],
        "complexity": ["warn", { "max": 15 }]
      }
    },
    {
      "files": ["src/components/**/*.tsx"],
      "rules": {
        // UIコンポーネントは厳格
        "max-lines": ["error", { "max": 200 }],
        "complexity": ["error", { "max": 6 }],
        "react/jsx-no-bind": "error"
      }
    },
    {
      "files": ["src/hooks/**/*.ts", "src/hooks/**/*.tsx"],
      "rules": {
        // カスタムフックは小さく保つ
        "max-lines": ["error", { "max": 100 }],
        "complexity": ["error", { "max": 5 }]
      }
    },
    {
      "files": ["src/utils/**/*.ts"],
      "rules": {
        // ユーティリティ関数は純粋関数として
        "prefer-pure-functions": "off",
        "max-params": ["error", { "max": 2 }],
        "complexity": ["error", { "max": 4 }]
      }
    }
  ],

  "settings": {
    "react": {
      "version": "detect"
    }
  }
}