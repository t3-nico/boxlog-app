{
  "extends": [
    "./.eslintrc.json"
  ],
  "plugins": ["boxlog-theme", "import", "unused-imports"],
  "rules": {
    "import/order": ["error", {
      "groups": [
        "builtin",
        "external", 
        "internal",
        "parent",
        "sibling",
        "index",
        "object",
        "type"
      ],
      "pathGroups": [
        {
          "pattern": "react",
          "group": "external",
          "position": "before"
        },
        {
          "pattern": "next/**",
          "group": "external",
          "position": "before"
        },
        {
          "pattern": "@/**",
          "group": "internal",
          "position": "before"
        }
      ],
      "pathGroupsExcludedImportTypes": ["react"],
      "newlines-between": "always",
      "alphabetize": {
        "order": "asc",
        "caseInsensitive": true
      }
    }],

    "import/no-duplicates": "error",
    "import/no-unused-modules": ["error", {
      "unusedExports": true,
      "ignoreExports": ["**/pages/**", "**/app/**", "**/*.test.*", "**/*.spec.*"]
    }],
    "import/no-cycle": "error",
    "import/no-self-import": "error",

    "no-restricted-imports": ["error", {
      "patterns": [
        {
          "group": ["@tiptap/*"],
          "message": "Tiptapライブラリは重いです。必要最小限のインポートを心がけてください"
        },
        {
          "group": ["framer-motion"],
          "message": "framer-motionは重いです。軽量な代替手段を検討してください"
        },
        {
          "group": ["date-fns"],
          "importNames": ["*"],
          "message": "date-fnsは必要な関数のみインポートしてください（例：import { format } from 'date-fns'）"
        },
        {
          "group": ["@radix-ui/react-*"],
          "message": "Radix UIコンポーネントは必要なもののみインポートしてください"
        },
        {
          "group": ["@tanstack/react-query"],
          "importNames": ["*"],
          "message": "React Queryは必要なhooksのみインポートしてください"
        }
      ]
    }],

    "unused-imports/no-unused-imports": "error",
    "unused-imports/no-unused-vars": ["warn", {
      "vars": "all",
      "varsIgnorePattern": "^_",
      "args": "after-used",
      "argsIgnorePattern": "^_"
    }],

    "boxlog-theme/no-heavy-library-imports": "warn",
    "boxlog-theme/prefer-dynamic-imports": "warn", 
    "boxlog-theme/no-barrel-file-abuse": "error",
    "boxlog-theme/optimize-reexports": "warn",

    "prefer-const": "error",
    "no-var": "error",
    "object-shorthand": ["error", "always"],
    "prefer-template": "error",

    "max-lines": ["warn", {
      "max": 200,
      "skipBlankLines": true,
      "skipComments": true
    }],

    "complexity": ["error", { "max": 8 }],
    "max-depth": ["error", { "max": 2 }],
    "max-params": ["warn", { "max": 3 }],
    "max-nested-callbacks": ["error", { "max": 2 }]
  },
  "overrides": [
    {
      "files": ["src/components/ui/kibo-ui/**/*.tsx"],
      "rules": {
        "boxlog-theme/no-heavy-library-imports": "off",
        "max-lines": "off",
        "complexity": "off"
      }
    },
    {
      "files": ["**/*.test.tsx", "**/*.spec.tsx"],
      "rules": {
        "import/no-unused-modules": "off",
        "unused-imports/no-unused-imports": "off"
      }
    }
  ]
}