# Vulnerability Disclosure Guidelines

BoxLogの脆弱性報告ガイドライン - 責任ある開示（Responsible Disclosure）の原則

---

## 🎯 Purpose (目的)

このガイドラインは、セキュリティ研究者と BoxLog の間で**安全で建設的な関係**を築くためのものです。
善意のセキュリティ研究者を法的リスクから保護し、脆弱性の早期発見・修正を促進します。

---

## ✅ Safe Harbor (セーフハーバー)

以下のガイドラインに従って行われたセキュリティ研究活動に対して、BoxLog は以下を行いません:

- 🚫 法的措置の開始（民事・刑事訴訟）
- 🚫 利用規約違反による措置（アカウント停止等）
- 🚫 研究者への報復行為

### 適用条件

セーフハーバーが適用されるのは、以下の条件を満たす場合のみです:

1. ✅ このガイドラインに従って行動する
2. ✅ 発見した脆弱性を速やかに報告する
3. ✅ 脆弱性を悪用しない
4. ✅ 他者のデータにアクセスしない
5. ✅ 公開前に BoxLog の修正を待つ

---

## 📋 Scope (対象範囲)

### 対象システム

以下のシステム・サービスが脆弱性報告の対象です:

| システム               | URL/リポジトリ                     | 対象 |
| ---------------------- | ---------------------------------- | ---- |
| BoxLog Web Application | https://boxlog.app                 | ✅   |
| BoxLog API             | https://api.boxlog.app             | ✅   |
| BoxLog Mobile App      | iOS/Android アプリ                 | ✅   |
| GitHub Repository      | github.com/yourusername/boxlog-app | ✅   |

### 対象外システム

以下は対象外です:

| システム                | 理由                 |
| ----------------------- | -------------------- |
| Supabase Infrastructure | 第三者サービス       |
| Vercel Infrastructure   | 第三者サービス       |
| 個人のテスト環境        | 公式サービスではない |
| 開発者の個人アカウント  | スコープ外           |

---

## ✅ Authorized Testing (許可されるテスト)

### 許可される行為

以下の行為は、このガイドラインの範囲内で許可されます:

#### セキュリティテスト

- ✅ **脆弱性スキャン**: 自動・手動ツールによるスキャン
- ✅ **認証テスト**: 自身のアカウントでの認証バイパステスト
- ✅ **入力検証テスト**: XSS, SQLインジェクション等のテスト
- ✅ **権限昇格テスト**: 自身のアカウント内での権限テスト

#### データアクセス

- ✅ **自身のデータのみ**: 自分のアカウントで作成したデータ
- ✅ **テストデータ**: 明示的にテスト用に作成したデータ

#### 報告

- ✅ **概念実証コード**: 再現手順の一部として提供
- ✅ **スクリーンショット**: 脆弱性の証拠として提供

### 安全なテスト環境

テストは以下の環境で実施してください:

1. **自身のアカウント**: 必ず自分で作成したアカウントを使用
2. **テストデータ**: 実際のユーザーデータに影響を与えない
3. **低負荷**: DoS攻撃にならない範囲でテスト

---

## 🚫 Prohibited Activities (禁止行為)

以下の行為は**厳しく禁止**されています。違反した場合、セーフハーバーは適用されません:

### サービス妨害

- ❌ **DoS/DDoS攻撃**: サービスを停止させる試み
- ❌ **リソース枯渇**: 過度なAPI呼び出し、ストレージ消費
- ❌ **物理的破壊**: ハードウェアへの損害

### データアクセス

- ❌ **他者のデータへのアクセス**: 他のユーザーの個人情報・タスク等
- ❌ **データの改ざん**: 自分以外のデータの変更・削除
- ❌ **データの抽出**: 大量データのダウンロード

### 社会工学

- ❌ **フィッシング**: ユーザーや従業員への詐欺行為
- ❌ **なりすまし**: 他者を装った行為
- ❌ **ソーシャルエンジニアリング**: 人を介した不正アクセス

### 情報開示

- ❌ **公開前の開示**: 修正前に脆弱性を第三者に開示
- ❌ **悪用**: 脆弱性を利用した不正行為
- ❌ **売買**: 脆弱性情報の商業的取引

---

## 📝 Reporting Process (報告プロセス)

### Step 1: 脆弱性の発見

脆弱性を発見した場合、以下の情報を収集してください:

#### 必須情報

- **脆弱性の種類**: XSS, SQLインジェクション, 認証バイパス等
- **影響を受けるURL/エンドポイント**
- **再現手順**: 詳細なステップ
- **期待される動作 vs 実際の動作**

#### 推奨情報

- **概念実証コード** (Proof of Concept)
- **スクリーンショット/動画**
- **影響範囲の評価**: Critical, High, Medium, Low
- **推奨される修正方法**

### Step 2: 報告の送信

以下のいずれかの方法で報告してください:

#### Email (推奨)

```
宛先: security@boxlog.app
件名: [Security] 脆弱性報告 - [脆弱性の種類]
```

#### GitHub Security Advisory

https://github.com/yourusername/boxlog-app/security/advisories/new

### Step 3: 初動確認

**24時間以内**に以下の確認を行います:

- ✅ 受領確認メール
- ✅ トラッキングID発行
- ✅ 初期評価（深刻度の判定）

### Step 4: 詳細調査

**7日以内**に以下を実施します:

- ✅ 脆弱性の再現
- ✅ 影響範囲の特定
- ✅ 修正方針の決定

### Step 5: 修正とリリース

深刻度に応じて修正を実施します:

| 深刻度   | 修正期限     |
| -------- | ------------ |
| Critical | 48時間以内   |
| High     | 1週間以内    |
| Medium   | 2週間以内    |
| Low      | 次回リリース |

### Step 6: 公開

修正後、以下を公開します:

- ✅ **Security Advisory**: GitHub Securi ty Advisory として公開
- ✅ **CVE番号**: 必要に応じて CVE を取得
- ✅ **クレジット**: 報告者の名前を明記（希望者のみ）

---

## 🏆 Recognition (貢献の評価)

### Hall of Fame (殿堂入り)

BoxLogのセキュリティ向上に貢献した研究者を、`/legal/security` ページの "Security Researchers Hall of Fame" に掲載します。

掲載内容:

- 名前またはハンドル（希望する形式）
- 発見した脆弱性の種類（深刻度）
- 報告日

### Public Credit (公開クレジット)

Security Advisoryで報告者を明記します:

```
## Credit
This vulnerability was discovered and responsibly disclosed by [研究者名].
We thank them for their contribution to BoxLog's security.
```

### 報奨金制度

現在は設けていませんが、将来的に以下を検討しています:

- 💰 金銭的報奨金
- 🎁 BoxLog Premium の無料提供
- 🏆 特別な認定バッジ

---

## 📞 Contact (連絡先)

### セキュリティチーム

- **Email**: security@boxlog.app
- **Response Time**: 24時間以内（平日）
- **PGP Key**: [公開鍵へのリンク]（準備中）

### エスカレーション

初動確認が24時間以内に行われない場合:

- **Email**: support@boxlog.app（件名に [URGENT SECURITY] を含める）

---

## 📖 Related Documents (関連ドキュメント)

- [Security Policy](./SECURITY.md) - セキュリティポリシー
- [Incident Response Plan](./INCIDENT_RESPONSE.md) - インシデント対応計画

---

## 🔄 Policy Updates (ポリシー更新)

このガイドラインは定期的に見直され、必要に応じて更新されます。

**最終更新日**: 2025-10-15

---

## 🙏 Thank You (感謝)

セキュリティ研究者の皆様の貢献により、BoxLog はすべてのユーザーにとってより安全なサービスとなります。
責任ある開示にご協力いただき、誠にありがとうございます。

**Together, we make BoxLog safer for everyone.**
