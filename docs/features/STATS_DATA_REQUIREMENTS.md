# ğŸ“Š çµ±è¨ˆæ©Ÿèƒ½ ãƒ‡ãƒ¼ã‚¿è¦ä»¶å®šç¾©

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [åˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹](#åˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹)
3. [çµ±è¨ˆãƒšãƒ¼ã‚¸åˆ¥ãƒ‡ãƒ¼ã‚¿è¦ä»¶](#çµ±è¨ˆãƒšãƒ¼ã‚¸åˆ¥ãƒ‡ãƒ¼ã‚¿è¦ä»¶)
4. [æœªå®Ÿè£…ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£](#æœªå®Ÿè£…ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£)
5. [APIå®Ÿè£…è¨ˆç”»](#apiå®Ÿè£…è¨ˆç”»)

---

## æ¦‚è¦

BoxLogã‚¢ãƒ—ãƒªã®çµ±è¨ˆæ©Ÿèƒ½ã§è¡¨ç¤ºã™ã¹ããƒ‡ãƒ¼ã‚¿ã¨ã€ãã®å®Ÿè£…è¦ä»¶ã‚’å®šç¾©ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã™ã€‚

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

- **ä½œæˆæ—¥**: 2025-12-04
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸš§ è¦ä»¶å®šç¾©ä¸­

---

## åˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

### å®Ÿè£…æ¸ˆã¿ãƒ†ãƒ¼ãƒ–ãƒ«

| ãƒ†ãƒ¼ãƒ–ãƒ« | èª¬æ˜ | çµ±è¨ˆåˆ©ç”¨å¯èƒ½ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ |
|---------|------|----------------------|
| `plans` | ãƒ—ãƒ©ãƒ³ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ | status, created_at, due_date, start_time, end_time, recurrence_type, reminder_minutes |
| `plan_activities` | ãƒ—ãƒ©ãƒ³å¤‰æ›´å±¥æ­´ | action_type, field_name, old_value, new_value, created_at |
| `plan_instances` | ç¹°ã‚Šè¿”ã—ã‚ªã‚«ãƒ¬ãƒ³ã‚¹ | instance_date, is_exception, exception_type |
| `tags` | ã‚¿ã‚°ï¼ˆ3éšå±¤ï¼‰ | name, level, is_active, color, created_at |
| `tag_groups` | ã‚¿ã‚°ã‚°ãƒ«ãƒ¼ãƒ— | name, sort_order |
| `plan_tags` | ãƒ—ãƒ©ãƒ³-ã‚¿ã‚°ç´ä»˜ã‘ | plan_id, tag_id, created_at |
| `notifications` | é€šçŸ¥ | type, priority, is_read, created_at |
| `sessions` | ä½œæ¥­ã‚»ãƒƒã‚·ãƒ§ãƒ³ | duration_minutes, actual_start, actual_endï¼ˆå°†æ¥æ©Ÿèƒ½ï¼‰ |

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä½“ç³»

```
todo â†’ doing â†’ done
```

### ç¹°ã‚Šè¿”ã—ã‚¿ã‚¤ãƒ—

```
none | daily | weekly | monthly | yearly | weekdays
```

---

## çµ±è¨ˆãƒšãƒ¼ã‚¸åˆ¥ãƒ‡ãƒ¼ã‚¿è¦ä»¶

### 1. Dashboard / Overviewï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰

**ç›®çš„**: å…¨ä½“ã®æ´»å‹•çŠ¶æ³ã‚’ä¸€ç›®ã§æŠŠæ¡

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ |
|------|---------|-------------|
| å®Œäº†ãƒ—ãƒ©ãƒ³æ•° | `COUNT(plans WHERE status = 'done')` | plans |
| é€²è¡Œä¸­ãƒ—ãƒ©ãƒ³æ•° | `COUNT(plans WHERE status = 'doing')` | plans |
| æœªç€æ‰‹ãƒ—ãƒ©ãƒ³æ•° | `COUNT(plans WHERE status = 'todo')` | plans |
| å®Œäº†ç‡ | `done / total * 100` | plans |
| ä½œæ¥­æ™‚é–“ | `SUM(sessions.duration_minutes)` | sessionsï¼ˆå°†æ¥ï¼‰ |
| æœŸé–“å†…ä½œæˆæ•° | `COUNT(plans WHERE created_at BETWEEN ?)` | plans |
| æœŸé–“æ¯”è¼ƒï¼ˆå‰é€±æ¯”ç­‰ï¼‰ | å‰æœŸé–“ã¨ã®å·®åˆ† | plans |

#### è¡¨ç¤ºå½¢å¼

- ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ï¼ˆ3-4æšï¼‰
- é€±é–“/æœˆé–“ãƒˆãƒ¬ãƒ³ãƒ‰ãƒãƒ£ãƒ¼ãƒˆï¼ˆæŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ†å¸ƒï¼ˆãƒ‰ãƒ¼ãƒŠãƒ„ãƒãƒ£ãƒ¼ãƒˆï¼‰

---

### 2. Analytics - Tasksï¼ˆã‚¿ã‚¹ã‚¯çµ±è¨ˆï¼‰

**ç›®çš„**: ãƒ—ãƒ©ãƒ³/ã‚¿ã‚¹ã‚¯ã®è©³ç´°åˆ†æ

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | å‚™è€ƒ |
|------|---------|------|
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ä»¶æ•° | GROUP BY status | todo/doing/done |
| æ›œæ—¥åˆ¥ä½œæˆæ•° | GROUP BY DAYOFWEEK(created_at) | æ´»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| æ™‚é–“å¸¯åˆ¥å®Œäº†æ•° | GROUP BY HOUR(updated_at) WHERE status = 'done' | ç”Ÿç”£æ€§æ™‚é–“å¸¯ |
| æœŸé™éµå®ˆç‡ | `done before due_date / total with due_date` | æœŸé™ç®¡ç† |
| æœŸé™è¶…éä»¶æ•° | `COUNT WHERE due_date < NOW() AND status != 'done'` | è¦æ³¨æ„é …ç›® |
| ç¹°ã‚Šè¿”ã—ãƒ—ãƒ©ãƒ³æ¯”ç‡ | `COUNT WHERE recurrence_type != 'none' / total` | ç¿’æ…£åŒ–åº¦ |

#### è¡¨ç¤ºå½¢å¼

- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥æ£’ã‚°ãƒ©ãƒ•
- æ›œæ—¥åˆ¥ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
- æ™‚é–“å¸¯åˆ¥æ£’ã‚°ãƒ©ãƒ•

---

### 3. Analytics - Timeï¼ˆæ™‚é–“åˆ†æï¼‰

**ç›®çš„**: æ™‚é–“ã®ä½¿ã„æ–¹ã‚’å¯è¦–åŒ–

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ï¼ˆsessionså®Ÿè£…å¾Œï¼‰

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | å‚™è€ƒ |
|------|---------|------|
| ç·ä½œæ¥­æ™‚é–“ | `SUM(duration_minutes)` | æœŸé–“å†… |
| æ—¥åˆ¥ä½œæ¥­æ™‚é–“ | GROUP BY DATE(actual_start) | ãƒˆãƒ¬ãƒ³ãƒ‰ |
| å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ | `AVG(duration_minutes)` | é›†ä¸­åŠ›æŒ‡æ¨™ |
| æœ€é•·ã‚»ãƒƒã‚·ãƒ§ãƒ³ | `MAX(duration_minutes)` | ãƒ•ãƒ­ãƒ¼çŠ¶æ…‹ |
| ã‚¿ã‚°åˆ¥ä½œæ¥­æ™‚é–“ | JOIN plan_tags | ã‚«ãƒ†ã‚´ãƒªåˆ†æ |

#### ç¾çŠ¶

âš ï¸ `sessions`ãƒ†ãƒ¼ãƒ–ãƒ«ã¯å°†æ¥æ©Ÿèƒ½ã®ãŸã‚ã€ç¾æ™‚ç‚¹ã§ã¯å®Ÿè£…ä¸å¯

---

### 4. Analytics - Categories / Tag Analysisï¼ˆã‚¿ã‚°åˆ†æï¼‰

**ç›®çš„**: ã‚¿ã‚°ã®ä½¿ç”¨çŠ¶æ³ã¨åˆ†å¸ƒã‚’åˆ†æ

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | å‚™è€ƒ |
|------|---------|------|
| ã‚¿ã‚°åˆ¥ãƒ—ãƒ©ãƒ³æ•° | `COUNT(plan_tags) GROUP BY tag_id` | ä½¿ç”¨é »åº¦ |
| ã‚¿ã‚°åˆ¥å®Œäº†ç‡ | `done / total per tag` | ã‚¿ã‚°åŠ¹ç‡ |
| éšå±¤åˆ¥ã‚¿ã‚°æ•° | `COUNT(tags) GROUP BY level` | ã‚¿ã‚°æ§‹é€  |
| æœªä½¿ç”¨ã‚¿ã‚° | `tags NOT IN plan_tags` | æ•´ç†å€™è£œ |
| ã‚¿ã‚°ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥åˆ†å¸ƒ | JOIN tag_groups | ã‚°ãƒ«ãƒ¼ãƒ—åˆ†æ |
| ã‚¿ã‚°ä½œæˆæ¨ç§» | GROUP BY DATE(tags.created_at) | ã‚¿ã‚°ç®¡ç† |

#### è¡¨ç¤ºå½¢å¼

- ã‚¿ã‚°ä½¿ç”¨é »åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆæ¨ªæ£’ã‚°ãƒ©ãƒ•ï¼‰
- ã‚¿ã‚°åˆ¥å®Œäº†ç‡ï¼ˆãƒãƒ–ãƒ«ãƒãƒ£ãƒ¼ãƒˆï¼‰
- ã‚¿ã‚°éšå±¤ãƒ„ãƒªãƒ¼ãƒãƒƒãƒ—

---

### 5. Analytics - Trendsï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰

**ç›®çš„**: é•·æœŸçš„ãªå‚¾å‘ã‚’æŠŠæ¡

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• | æœŸé–“ |
|------|---------|------|
| æœˆåˆ¥ä½œæˆæ•°æ¨ç§» | GROUP BY MONTH(created_at) | 6-12ãƒ¶æœˆ |
| æœˆåˆ¥å®Œäº†æ•°æ¨ç§» | GROUP BY MONTH(updated_at) WHERE status='done' | 6-12ãƒ¶æœˆ |
| é€±æ¬¡å®Œäº†ç‡æ¨ç§» | é€±ã”ã¨ã®å®Œäº†ç‡è¨ˆç®— | 12-24é€± |
| æ´»å‹•é‡æ¨ç§» | COUNT(plan_activities) per period | 6-12ãƒ¶æœˆ |

#### è¡¨ç¤ºå½¢å¼

- è¤‡åˆæŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆä½œæˆ vs å®Œäº†ï¼‰
- å®Œäº†ç‡æ¨ç§»ã‚¨ãƒªã‚¢ãƒãƒ£ãƒ¼ãƒˆ

---

### 6. Reflectï¼ˆæŒ¯ã‚Šè¿”ã‚Šï¼‰

#### 6.1 Todayï¼ˆä»Šæ—¥ã®æŒ¯ã‚Šè¿”ã‚Šï¼‰

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• |
|------|---------|
| ä»Šæ—¥å®Œäº†ã—ãŸãƒ—ãƒ©ãƒ³ | `WHERE status='done' AND DATE(updated_at)=TODAY` |
| ä»Šæ—¥ä½œæˆã—ãŸãƒ—ãƒ©ãƒ³ | `WHERE DATE(created_at)=TODAY` |
| ä»Šæ—¥ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´å±¥æ­´ | `plan_activities WHERE DATE(created_at)=TODAY` |
| ä»Šæ—¥ã®ä½œæ¥­æ™‚é–“ | sessionsï¼ˆå°†æ¥ï¼‰ |

#### 6.2 Weekï¼ˆé€±é–“æŒ¯ã‚Šè¿”ã‚Šï¼‰

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• |
|------|---------|
| ä»Šé€±ã®å®Œäº†æ•° | é€±é–“é›†è¨ˆ |
| æ›œæ—¥åˆ¥æ´»å‹•é‡ | 7æ—¥é–“ã®æ—¥åˆ¥ãƒ‡ãƒ¼ã‚¿ |
| å‰é€±ã¨ã®æ¯”è¼ƒ | å·®åˆ†è¨ˆç®— |
| é€±é–“ãƒã‚¤ãƒ©ã‚¤ãƒˆ | æœ€ã‚‚æ´»å‹•çš„ãªæ—¥ã€æœ€å¤šå®Œäº†æ—¥ |

#### 6.3 Monthï¼ˆæœˆé–“æŒ¯ã‚Šè¿”ã‚Šï¼‰

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• |
|------|---------|
| æœˆé–“å®Œäº†æ•° | æœˆé–“é›†è¨ˆ |
| é€±åˆ¥æ¨ç§» | 4-5é€±é–“ã®ãƒ‡ãƒ¼ã‚¿ |
| å‰æœˆã¨ã®æ¯”è¼ƒ | å·®åˆ†è¨ˆç®— |
| æœˆé–“ãƒã‚¤ãƒ©ã‚¤ãƒˆ | é”æˆç‡ã€æ´»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ |

#### 6.4 Allï¼ˆå…¨æœŸé–“æŒ¯ã‚Šè¿”ã‚Šï¼‰

| æŒ‡æ¨™ | è¨ˆç®—æ–¹æ³• |
|------|---------|
| ç´¯è¨ˆãƒ—ãƒ©ãƒ³æ•° | å…¨æœŸé–“é›†è¨ˆ |
| ç´¯è¨ˆå®Œäº†æ•° | å…¨æœŸé–“é›†è¨ˆ |
| æœˆåˆ¥æ¨ç§» | å…¨æœˆã®ãƒ‡ãƒ¼ã‚¿ |
| æˆé•·æ›²ç·š | æ´»å‹•é‡ã®å¤‰åŒ– |

---

## æœªå®Ÿè£…ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã¯ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ãŒæœªå®šç¾©ã®ãŸã‚ã€è¦æ¤œè¨ï¼š

| ãƒšãƒ¼ã‚¸ | ç¾çŠ¶ | å¯¾å¿œæ¡ˆ |
|--------|------|--------|
| Goalsï¼ˆç›®æ¨™ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ or ã‚¿ã‚°ã§ä»£æ›¿ |
| Principlesï¼ˆåŸå‰‡ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ or ã‚¿ã‚°ã§ä»£æ›¿ |
| Valueï¼ˆä¾¡å€¤è¦³ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ |
| Life Visionï¼ˆäººç”Ÿãƒ“ã‚¸ãƒ§ãƒ³ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ |
| Identityï¼ˆã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ |
| Purposeï¼ˆç›®çš„ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ |
| AntiValuesï¼ˆåä¾¡å€¤è¦³ï¼‰ | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ |
| Actions - Try/Next | ãƒ†ãƒ¼ãƒ–ãƒ«ãªã— | plans ã®ã‚µãƒ–ã‚»ãƒƒãƒˆ or æ–°è¦ |
| Connpass | å¤–éƒ¨API | åˆ¥é€”æ¤œè¨ |

### æ¤œè¨äº‹é …

1. **Self Analysisç³»** ã¯åˆ¥ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆè‡ªå·±åˆ†æãƒ»ãƒ©ã‚¤ãƒ•ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ã®æ©Ÿèƒ½
   - çµ±è¨ˆæ©Ÿèƒ½ã®ç¯„å›²ã«å«ã‚ã‚‹ã‹ï¼Ÿ
   - åˆ¥æ©Ÿèƒ½ã¨ã—ã¦åˆ‡ã‚Šå‡ºã™ã‹ï¼Ÿ

2. **Actions** ã¯ãƒ—ãƒ©ãƒ³ã®ç‰¹æ®Šãªãƒ“ãƒ¥ãƒ¼ã¨ã—ã¦å®Ÿè£…å¯èƒ½ã‹ï¼Ÿ

---

## APIå®Ÿè£…è¨ˆç”»

### Phase 1: åŸºæœ¬çµ±è¨ˆï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰

```typescript
// å®Ÿè£…ã™ã¹ãtRPCã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

plans.getStats          // âœ… æ—¢å­˜ï¼ˆæ‹¡å¼µå¿…è¦ï¼‰
plans.getStatsByPeriod  // ğŸ†• æœŸé–“æŒ‡å®šçµ±è¨ˆ
plans.getTrends         // ğŸ†• ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿
tags.getStats           // ğŸ†• ã‚¿ã‚°çµ±è¨ˆ
tags.getUsageRanking    // ğŸ†• ä½¿ç”¨é »åº¦ãƒ©ãƒ³ã‚­ãƒ³ã‚°
```

### Phase 2: è©³ç´°çµ±è¨ˆï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰

```typescript
plans.getActivityStats   // ğŸ†• æ´»å‹•çµ±è¨ˆ
plans.getDueDateStats    // ğŸ†• æœŸé™é–¢é€£çµ±è¨ˆ
plans.getRecurrenceStats // ğŸ†• ç¹°ã‚Šè¿”ã—çµ±è¨ˆ
```

### Phase 3: æŒ¯ã‚Šè¿”ã‚Šï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰

```typescript
reflect.getDaily    // ğŸ†• æ—¥æ¬¡æŒ¯ã‚Šè¿”ã‚Šãƒ‡ãƒ¼ã‚¿
reflect.getWeekly   // ğŸ†• é€±æ¬¡æŒ¯ã‚Šè¿”ã‚Šãƒ‡ãƒ¼ã‚¿
reflect.getMonthly  // ğŸ†• æœˆæ¬¡æŒ¯ã‚Šè¿”ã‚Šãƒ‡ãƒ¼ã‚¿
reflect.getAll      // ğŸ†• å…¨æœŸé–“æŒ¯ã‚Šè¿”ã‚Šãƒ‡ãƒ¼ã‚¿
```

### Phase 4: æ™‚é–“çµ±è¨ˆï¼ˆå„ªå…ˆåº¦: ä½ï¼‰

```typescript
// sessions ãƒ†ãƒ¼ãƒ–ãƒ«å®Ÿè£…å¾Œ
sessions.getStats      // ğŸ†• ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ±è¨ˆ
sessions.getTimeByTag  // ğŸ†• ã‚¿ã‚°åˆ¥ä½œæ¥­æ™‚é–“
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- [ ] Self Analysisç³»ãƒšãƒ¼ã‚¸ã®æ–¹é‡æ±ºå®š
- [ ] APIå®Ÿè£…ã®å„ªå…ˆé †ä½ç¢ºå®š
- [ ] å„APIã®è©³ç´°ä»•æ§˜å®šç¾©
- [ ] UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã®ç´ä»˜ã‘

---

**æœ€çµ‚æ›´æ–°**: 2025-12-04
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸš§ è¦ä»¶å®šç¾©ä¸­
