# Release Notes v0.11.0

**リリース日**: 2025-12-26
**コードネーム**: セキュリティ・保守性・パフォーマンス強化

## ハイライト

このリリースでは**セキュリティ**、**保守性**、**パフォーマンス**の3つの柱を大幅に強化しました。

- **セキュリティスコア: 92点** - 包括的なセキュリティ強化、MFAリカバリーコード、監査ログGeoIP統合
- **保守性スコア: 92点** - 未使用コード134ファイル削除、大規模コンポーネント分割
- **パフォーマンス**: PPR有効化、LCP最適化、ページ遷移高速化

---

## 新機能 (Features)

### 認証・セキュリティ

- **MFAリカバリーコードUI実装** (`e1011944`)
  - リカバリーコードの表示・コピー機能
  - コード紛失時の再生成フロー

- **APIキー暗号化保存** (`4953d4cd`)
  - Web Crypto API (AES-256-GCM) による暗号化
  - PBKDF2鍵導出（100,000イテレーション）
  - ユーザーIDベースの暗号化キー

- **監査ログGeoIP統合** (`9a3a972f`)
  - ログインイベントに地理情報を記録
  - 不審なアクセス検知の基盤

### テスト・品質

- **認証テスト刷新** (`4953d4cd`)
  - Supabaseモックベースの23テスト
  - useAuth hookの完全なテストカバレッジ

- **カオスエンジニアリングテスト追加** (`dcb9aecf`)
  - 障害注入テストの基盤
  - システム耐障害性の検証

---

## パフォーマンス改善 (Performance)

### Core Web Vitals最適化

- **PPR (Partial Prerendering) 有効化** (`15e564c8`)
  - Server-side prefetch実装
  - 初回ロード時間の大幅短縮

- **LCP最適化** (`5b7c82db`)
  - クリティカルCSS最適化
  - Service Worker自動バージョニング
  - バンドルサイズ最適化

- **ページ遷移パフォーマンス改善** (`31f28d76`)
  - ルーティング最適化
  - プリフェッチ戦略の改善

### レンダリング最適化

- **GlobalSearchProviderメモ化** (`db9ddcc7`)
  - 不要な再レンダリングを防止
  - contextValueの最適化

---

## セキュリティ強化 (Security)

- **包括的セキュリティ強化** (`e263e943`)
  - CSP (Content Security Policy) 強化
  - セキュリティヘッダー最適化
  - 入力検証の強化

---

## コード品質・保守性 (Maintenance)

### 未使用コード削除 (計134ファイル)

- **calendar feature内未使用ファイル削除** (`10e5eb5e`) - 58ファイル
- **未使用コンポーネント・hooks・config削除** (`43fd79b8`) - 61ファイル
- **未使用index.tsファイル削除** (`6e1677b1`) - 15ファイル
- **knip検出: 248→0** (`3600f3ff`)

### 大規模コンポーネント分割

- **コード構造改善Phase2** (`fa9e6a4d`)
  - CalendarDragSelection.tsx (707行 → 4ファイル)
  - TagsSidebar.tsx (651行 → 3ファイル)
  - TagInspector.tsx (622行 → 4ファイル)
  - PlanInspectorContent.tsx (611行 → 4ファイル)

### 命名規則統一

- **hooks命名統一** (`c4cab947`)
  - use〇〇形式への統一
  - knip設定追加

---

## バグ修正 (Bug Fixes)

- **tRPC server helpers修正** (`c23f3f3c`) - PPR設定との互換性修正
- **タイムゾーン非依存テスト** (`00dd70dd`) - CI/CDでの安定性向上
- **e2e-weekly.yml YAMLパースエラー修正** (`997717a5`)

---

## CI/CD・インフラ (CI/CD)

- **月次運用リマインダー自動化** (`656d984d`)
- **e2e-weekly.yml secrets→vars変更** (`b510820b`)

---

## ドキュメント (Documentation)

### 新規ドキュメント

| ドキュメント                 | 内容                             |
| ---------------------------- | -------------------------------- |
| **セキュリティ現状レポート** | セキュリティ監査結果・スコア92点 |
| **信頼性現状レポート**       | SLO/SLI定義・可用性目標          |
| **保守性ステータスレポート** | コード品質指標・技術的負債       |
| **コード品質レポート**       | 型安全性・ESLint準拠状況         |
| **アクセシビリティ調査**     | axe-core導入・WCAG準拠状況       |
| **Next.js最適化ガイド**      | App Router最適化パターン         |
| **運用ドキュメント3点**      | 運用手順・監視設定               |
| **SLO/SLI定義**              | サービスレベル目標               |

---

## 技術的詳細

### 依存関係更新

なし（このリリースでは依存関係の更新はありません）

### 破壊的変更

なし

---

## 統計

| 項目         | 数値   |
| ------------ | ------ |
| コミット数   | 31     |
| 新規ファイル | 15+    |
| 削除ファイル | 134    |
| 変更行数     | 5,000+ |

---

## Full Changelog

**Full Changelog**: https://github.com/t3-nico/boxlog-app/compare/v0.10.0...v0.11.0

---

## 次のリリースに向けて

- AI Inspector (AI SDK統合) - Issue #548
- テストカバレッジ60%達成

---

**Contributors**: @t3-nico, Claude Opus 4.5
